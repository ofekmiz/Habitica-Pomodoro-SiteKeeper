<!doctype html>
<html>

<head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">

        <title>Habitica SiteKeeper</title>
        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="popup.css">
        <link href="https://fonts.googleapis.com/css2?family=Orbitron&family=Oxanium:wght@200;300&display=swap"
                rel="stylesheet">
        <!-- SCRIPTS -->
        <script src="../library/jquery.min.js"></script>
        <script src="../library/Chart.bundle.min.js"></script>
        <script src="../library/utility.js"></script>
        <script src="../library/communication.js"></script>
        <script src="popup.js"></script>

</head>

<body id="popup" class="loading">
        <div id="mainContainer">
                <!-- Menu -->
                <div id=MenuContainer>
                        <div id="Menu">
                                <table>
                                        <div class="menu-item" id="MenuSettings" menu-container-id="Settings">
                                                <label class="menu-label"><input type="checkbox"><span
                                                                class="settings_icon small_icon"></span>SETTINGS</label>
                                        </div>
                                        <div class="menu-item" id="MenuHistory" menu-container-id="History">
                                                <label class="menu-label"><input type="checkbox"><span
                                                                class="history_icon small_icon"></span>HISTORY</label>
                                        </div>
                                        <div class="menu-item" id="MenuFeedback" menu-container-id="Feedback">
                                                <label class="menu-label"><input type="checkbox"><span
                                                                class="rate_icon small_icon"></span>FEEDBACK</label>
                                        </div>
                                        <div class="menu-item" id="MenuDonate" menu-container-id="Donate">
                                                <label class="menu-label"><input type="checkbox"><span
                                                                class="donate_icon small_icon"></span>COFFEE</label>
                                        </div>
                                </table>
                        </div>
                </div>

                <!-- Save Settings Button -->
                <button id="SaveButton" type="submit"></button>

                <!-- Content -->
                <div id="CotentContainer">
                        <!-- Settings -->
                        <div id="Settings" class="menu-container">

                                <!-- inner menu -->

                                <input type="radio" checked id="MenuTimerSettings" name="innerMenu">
                                <label for="MenuTimerSettings"><span class="innerMenuIcon"></span> TIMER</label>
                                <input type="radio" id="MenuHabiticaSettings" name="innerMenu">
                                <label for="MenuHabiticaSettings"><span class="innerMenuIcon"></span> HABITICA</label>
                                <input type="radio" id="MenuBlockerSettings" name="innerMenu">
                                <label for="MenuBlockerSettings"><span class="innerMenuIcon"></span> BLOCKER</label><br>


                                <!-- Timer settings -->
                                <div id="TimerSettingsContainer">
                                        <br>
                                        <label><b>Pomodoro duration </b><input id="PomoDuration" type="text"></label>
                                        Minutes<br>
                                        <label><input type="checkbox" id="showSkipToBreak">Skip to break button</label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip=" shows &#9658; button that lets you skip the current pomodoro session (with no habitica rewards)"></span>
                                        <br>
                                        <hr>
                                        <label><b>Short Break duration </b><input id="BreakDuration"
                                                        type="text"></label>
                                        Minutes<br>
                                        <label>Break Extention <input id="BreakExtention" type="text"></label>
                                        Minutes
                                        <span class="small_icon help_icon tooltip"
                                                data-tip="Break Extension is some extra time to come back from the short break. When you get back, click on the Tomato to start the next pomodoro. If the break extesion ended before you pressed the tomato the streak will break and the timer will reset."></span><br>
                                        <label><input type="checkbox" id="ManualBreak">Start breaks manually</label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip="If enabled, breaks will start by clicking on the tomato after a pomodoro. If disabled breaks will start automatically after Pomodoro."></span>
                                        <br>
                                        <label><input type="checkbox" id="ResetPomoAfterBreak">Reset timer after break
                                                extension</label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip="If enabled,coming back from break after break extension ended will reset the timer (break the streak)."></span>
                                        <br>
                                        <hr>
                                        <label><b>Long Break after </b><input id="PomoSetNum" type="number"
                                                        step="1"></label>
                                        Pomodoros<br>
                                        <label><b>Long Break duration </b><input id="LongBreakDuration"
                                                        type="text"></label>
                                        Minutes<br>
                                        <hr>
                                        <label for="pomodoroEndSound"><b>Pomodoro end sound:</b></label><br>
                                        <select id="pomodoroEndSound">
                                                <option value="None">None</option>
                                        </select><input id="pomodoroEndSoundVolume" type="range" min="0" max="1"
                                                step="0.01" value="0.5">
                                        <br>
                                        <label for="breakEndSound"><b>Break end sound:</b></label><br>
                                        <select id="breakEndSound">
                                                <option value="None">None</option>
                                        </select><input id="breakEndSoundVolume" type="range" min="0" max="1"
                                                step="0.01" value="0.5">
                                        <br>
                                        <label for="ambientSound"><b>Ambient sound:</b></label><br>
                                        <select id="ambientSound">
                                                <option value="None">None</option>
                                        </select><input id="ambientSoundVolume" type="range" min="0" max="1" step="0.01"
                                                value="0.5">
                                        <br><br>
                                        <span class="setting-note">
                                                Pomodoro Default HotKey: <b>Alt + Shift + P</b><br>
                                                change hotKeys at chrome://extensions/shortcuts
                                        </span>
                                </div>
                                <!-- Habitica settings -->
                                <div id="HabiticaSettingsContainer">
                                        <br>
                                        <label><b class="connect-habitica-animate">Connect to Habitica</b><input
                                                        type="checkbox" checked id="ConnectHabitica"
                                                        class="switch"></label><br>
                                        <label class="connect-habitica-animate habitica-setting"><b>Habitica User
                                                        ID:</b><br /><input id="UID" type="text"></label><br>
                                        <label class="connect-habitica-animate habitica-setting"><b>Habitica API
                                                        Token:</b><br /><input id="APIToken"
                                                        type="password"></label><br>
                                        <sapn class="setting-note habitica-setting">User ID and API token can be found
                                                here: <a href="https://habitica.com/user/settings/api"
                                                        target="_blank">https://habitica.com/user/settings/api</a>
                                        </sapn>
                                        <hr>
                                        <label class="habitica-setting"><b>Pomodoro Habit</b></label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip='"Pomodoro" Habit will be created automatically in Habitica and will be activated after each pomodoro before a short break'></span>
                                        <br>
                                        <label class="habitica-setting"><input type="checkbox" id="PomoHabitPlus"> <span
                                                        class="plus_minus_icon">+</span> habit when pomodoro is
                                                done</label><br>
                                        <label class="habitica-setting"><input type="checkbox" id="PomoHabitMinus">
                                                <span class="plus_minus_icon">-</span> habit if stopped before timer
                                                ends</label><br>
                                        <label class="habitica-setting"><input type="checkbox" id="BreakExtentionFails">
                                                <span class="plus_minus_icon">-</span> habit if Break Extention is
                                                over</label><br>

                                        <label class="habitica-setting"><input type="checkbox"
                                                        id="customPomodoroTaskEnabled">Custom
                                                Habit:</label>
                                        <select class="habitica-setting" id="customPomodoroTask"></select>
                                        <hr>
                                        <label class="habitica-setting"><b>Pomodoro Combo Habit</b></label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip='"Pomodoro Combo!" Habit will be created automatically in Habitica and will be activated after the last pomodoro before a long break'></span>
                                        <br>
                                        <label class="habitica-setting"><input type="checkbox" id="PomoSetHabitPlus">
                                                <span class="plus_minus_icon">+</span> habit for pomodoro set
                                                complete</label><br>

                                        <label class="habitica-setting"><input type="checkbox"
                                                        id="customSetTaskEnabled">Custom
                                                Habit:</label>
                                        <select class="habitica-setting" id="customSetTask"></select>
                                        <hr>
                                        <label class="habitica-setting"><input type="checkbox"
                                                        id="BreakExtentionNotify">
                                                Mobile Notification - Short break is over</label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip='Notification is sent as a private message to yourself in the Habitica mobile app. Make sure private messaging is enabled.'></span>
                                        <br>
                                        <label class="habitica-setting"><input type="checkbox" id="LongBreakNotify">
                                                Mobile Notification - Long break is over</label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip='Notification is sent as a private message to yourself in the Habitica mobile app. Make sure private messaging is enabled.'></span>
                                        <hr>
                                        <label class="habitica-setting">Developer's Habitica Server Url
                                                <span class="small_icon help_icon tooltip"
                                                        data-tip='For developers that use local adress for habitica server, leave empty to use default Habitica.com server'></span><br>
                                                <input id="developerServerUrl" type="text"></label><br>
                                        <br>
                                </div>
                                <!-- Site Blocker settings -->
                                <div id="BlockerSettingsContainer">
                                        <br><label class="habitica-setting"><input type="checkbox"
                                                        id="BreakFreePass">During
                                                break
                                                all sites are free</label>
                                        <span class=" habitica_small_icon small_icon tooltip"></span>
                                        <hr>
                                        <label><input type="checkbox" id="HideEdit">Hide edit options</label>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip="Hide the option to block/unblock websites to lower the temptation of removing a blocked website during a work session."></span><br>
                                        <label><input type="checkbox" id="MuteBlockedSites">Mute blocked
                                                websites</label><br>
                                        <label><input type="checkbox" id="TranspartOverlay">Blocked website background
                                                transparency</label>
                                        <hr>
                                        <label><b>Whitelist: </b></label><span class="small_icon help_icon tooltip"
                                                data-tip="Websites in whitelist are also unblocked during pomodoro."></span><br>
                                        <textarea id="Whitelist" rows="4"
                                                placeholder="(i.e. https://habitica.com/#/tasks)"></textarea>

                                        <span class="setting-note">One url or regex per line.<br>Encase line in "/" for
                                                <a href="https://regexr.com/" target="_blank">Regex</a> support. i.e.
                                                /Regex line/.</span>
                                        <hr>
                                        <label class="habitica-setting"><b>Vacation Mode</b><input type="checkbox"
                                                        id="VacationMode" class="switch">&nbsp;&nbsp;</label>
                                        <span class=" habitica_small_icon small_icon tooltip"></span>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip="All websites are free when enabled."></span>
                                        <hr>
                                        <label class="habitica-setting"><b>Free Pass Schedule:</b></label>
                                        <span class=" habitica_small_icon small_icon tooltip"></span>
                                        <span class="small_icon help_icon tooltip"
                                                data-tip="All websites are free during this time."></span>
                                        <br>
                                        <div class="habitica-setting" id="freePassBlocks"></div>
                                        <div class="habitica-setting" id="addFreePassBlock"><span
                                                        style="margin-top: 1px;">Add
                                                        Free Pass Time</span>
                                        </div>
                                </div>

                                <!-- More info -->
                                <br>
                                <a class="wiki-page"
                                        href="https://habitica.fandom.com/wiki/Habitica_Pomodoro_SiteKeeper"
                                        target="_blank" class="links"><span class="help_icon small_icon"> </span>See the
                                        Wiki
                                        page for recommended settings</a>
                        </div>
                        <!-- History -->
                        <div id="History" class="menu-container" style="display: none;">
                                <span class="setting-note backupDataWarning">
                                        <span style="font-size: 19px;">&#9888;</span>
                                        Uninstalling the extension will result in loss of history data! Please back up
                                        your data.
                                </span>
                                <div class="HistoryFlex">
                                        <a class="settingButton" href="FullHistory.html" target="_blank"
                                                class="settingButton" id="BackupHistogram">
                                                <span style="margin-top:-1px" class="fullScreen_Icon small_icon"></span>
                                                &nbsp;&nbsp;Full History & Backup
                                        </a>
                                </div>
                                <hr>
                                <div class="HistoryFlex">
                                        <div class="historyDataCircle" id="PomoToday" data-text="POMODOROS TODAY">0
                                        </div>
                                        <div class="historyDataCircle" id="HoursToday" data-text="HOURS TODAY">0
                                        </div>
                                </div>
                                <div class="HistoryFlex">
                                        <div class="historyDataCircle" id="PomoTotal" data-text="POMODOROS TOTAL">0
                                        </div>
                                        <div class="historyDataCircle" id="HoursTotal" data-text="HOURS TOTAL">0
                                        </div>
                                        <div class="historyDataCircle" id="PomoAvg" data-text="POMODORO DAILY Avg">0
                                        </div>
                                        <div class="historyDataCircle" id="HoursAvg" data-text="HOURS DAILY Avg">0</div>
                                </div>
                                <hr>
                                <div class="HistoryFlex">
                                        <button class="settingButton" id="HistoryChartShowPomodoros">Pomodoros</button>
                                        <button class="settingButton" id="HistoryChartShowHours">Hours</button>
                                </div>
                                <hr>
                                <div class="canvasChar">
                                        <canvas id="HistoryChart" height="300" width="400"></canvas>
                                </div>
                                <div class="HistoryFlex">
                                        <button class="settingButton" id="HistoryCharPrev">&#x27F5;</button>
                                        <div class="settingButton" id="HistoryChartTotal"></div>
                                        <!-- <a href="FullHistory.html" target="_blank" class="settingButton"><span
                                                        class="fullScreen_Icon small_icon"></span></a> -->
                                        <button class="settingButton" id="HistoryChartNext">&#x27F6;</button>
                                </div>
                                <hr>
                                <div class="HistoryFlex">
                                        <a class="settingButton" id="DownloadHistogram">&#x21e9; Download
                                                History</a>
                                </div>
                                <div class="HistoryFlex">
                                        <input class="settingButton" type="file" id="selectHistogramFile"
                                                value="Import" />
                                        <button class="settingButton" id="ImportHistogram">&#8683;
                                                Import</button>
                                </div>
                                <div class="HistoryFlex">
                                        <button class="settingButton" id="ClearHistogram"><span
                                                        class="trash_icon small_icon"></span>&nbsp;&nbsp;Clear
                                                History</button>
                                </div>
                        </div>
                        <!-- Feedback -->
                        <div id="Feedback" class="menu-container" style="display: none;">
                                <br>
                                <a href="https://chrome.google.com/webstore/detail/habitica-pomodoro-sitekee/iaanigfbldakklgdfcnbjonbehpbpecl"
                                        target="_blank" id="rateAndReviewLink" class="links""><span class=" rate_icon
                                        small_icon"></span>Rate &
                                        Review</a>
                                <br><br>
                                <span class="links bug_icon small_icon"> </span>
                                <a href="https://github.com/ofekmiz/Habitica-Pomodoro-SiteKeeper/issues" target="_blank"
                                        class="links" style="margin-left:30px">Report a bug /
                                        Suggest a feature</a>
                                <br><span class="links" style="margin-left:30px;line-height: 25px;"> or contact
                                        me at <a href="mailto:ofex.create@gmail.com">ofex.create@gmail.com</a></span>
                                <br><br>
                                <span class="help_icon small_icon"></span>&nbsp;
                                <a href="https://habitica.fandom.com/wiki/Habitica_Pomodoro_SiteKeeper" target="_blank"
                                        class="links">Wiki Page</a> - What's new? Info & Credits
                                <br><br>
                                <span class="help_icon small_icon"></span>&nbsp;
                                <a href="https://habitica.fandom.com/wiki/Pomodoro" target="_blank" class="links">What
                                        is
                                        Pomodoro</a>?
                                <br><br>

                        </div>

                        <!-- Donate -->
                        <div id="Donate" class="menu-container" style="display: none;">
                                <br>
                                <div>If you like this extension and want to support,<br>you can
                                        buy me a coffee &#9749; or pizza &#127829;</div>
                                <br>
                                <div>Thank you &#10084;</div>

                                <a style="display: block;margin: auto;margin-top: 12px;width: 150px;"
                                        href='https://ko-fi.com/T6T12QP01' target='_blank'><img height='36'
                                                style='border:0px;height:36px;'
                                                src='https://cdn.ko-fi.com/cdn/kofi3.png?v=2' border='0'
                                                alt='Buy Me a Coffee at ko-fi.com' /></a>
                                <br>

                        </div>

                        <!-- Alerts -->
                        <div id="Alerts">
                                <p id="CredError">
                                        <span style="font-size: 19px;">&#9888;</span></span> Credential
                                        Error!<br> The
                                        extension
                                        is currently not updating Habitica!<br><a class="credErrorTip">Fix Login
                                                or
                                                Disable
                                                Here</a>
                                </p>
                                <p id="VersionUpdate">
                                        <span style="font-size: 19px;">&#10024;</span>New Update! <span
                                                class="version"></span>
                                        <br>Read the release notes on the <a
                                                href="https://habitica.fandom.com/wiki/Habitica_Pomodoro_SiteKeeper#Version_Update_Log"
                                                target="_blank">Wiki Page </a>
                                        <span class="closeAlert">X</span>
                                </p>
                        </div>

                        <!-- Pomodoro Timer -->
                        <div id="pomodoro">
                                <div id="QuickSettings"></div>
                                <div id="PopupNewWindow" title="open in new window"></div>
                                <div id="PomoStop">X</div>
                                <div id="SkipToBreak">&#9658;&#9658;</div>
                                <span id="PomoButton" data-pomodoros="0" class="tomato"></span><span id="Time"
                                        data-pomodoros-set="0/4">00:00</span>
                        </div>

                        <!-- Quick Settings -->
                        <div id="pomodoroSettings">
                                <label for="quickSet-PomoDuration"><input id="quickSet-PomoDuration"
                                                class="lightTextInput" type="text"></label>
                                <label for="quickSet-BreakDuration"><input id="quickSet-BreakDuration"
                                                class="lightTextInput" type="text"></label>
                                <label for="quickSet-LongBreakDuration"><input id="quickSet-LongBreakDuration"
                                                class="lightTextInput" type="text"></label>
                                <br>
                                <label class="longBreakQuickSet"><b>Long Break After </b><input id="quickSet-PomoSetNum"
                                                class="lightTextInput" type="text"><b>
                                                Pomodoros</b></label>
                                <br>
                                <label class="takeBreakText">Take <input id="quickSet-takeBreakDuration"
                                                class="lightTextInput" type="text" value="0"> Minutes Break
                                        <span id="quickSet-takeBreak">
                                                &#9658;</span></label><br>
                                <button id="quickSave" type="submit">Ok</button>
                        </div>

                        <!-- Vacation mode -->
                        <div class="vacationBanner">Free Pass enabled!<br> All WebSites are free</div>

                        <!-- Block Site -->
                        <br>
                        <a id="BlockLink"><span class="block_Icon small_icon"></span>Block Site!</a>
                        <br>
                        <!-- Blocked Sites -->
                        <table id="SiteTable"></table>
                        <br><br><br>
                </div>
                <!-- Footer -->
                <div id="Footer">
                        <a href="https://habitica.com" target="_blank">
                                <div class="footer_icons habitica-setting"><span class="habitica_icon"></span>
                                </div>
                        </a>
                        <div class="footer_icons habitica-setting" style="color: goldenrod;" id="Dosh"><span
                                        class="gold_icon"></span></div>
                        <div class="footer_icons habitica-setting" style="color: red;" id="MyHp"><span
                                        class="hp_icon"></span>
                        </div>
                        <div class="footer_icons habitica-setting" id="RefreshStats"><span class="refresh_icon"></span>
                        </div>
                </div>
        </div>
</body>

</html>